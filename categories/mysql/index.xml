<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Mysql on 常用中间件分析</title><link>https://zput.github.io/middleware/categories/mysql/</link><description>Recent content in Mysql on 常用中间件分析</description><generator>Hugo -- gohugo.io</generator><language>zh</language><lastBuildDate>Fri, 24 Jan 2020 10:33:00 +0000</lastBuildDate><atom:link href="https://zput.github.io/middleware/categories/mysql/index.xml" rel="self" type="application/rss+xml"/><item><title>写好sql</title><link>https://zput.github.io/middleware/docs/mysql/business_facing/sql/</link><pubDate>Fri, 24 Jan 2020 10:33:00 +0000</pubDate><guid>https://zput.github.io/middleware/docs/mysql/business_facing/sql/</guid><description>SQL # SQL执行顺序 # select # 5 ----&amp;gt; ... from # 1 ... where # 2 .... group by # 3 ... having # 4 ----&amp;gt; ... order by # 6 ... limit # 7 [offset] 七种JOIN # /* 1 */ SELECT &amp;lt;select_list&amp;gt; FROM TableA A LEFT JOIN TableB B ON A.Key = B.Key; /* 2 */ SELECT &amp;lt;select_list&amp;gt; FROM TableA A RIGHT JOIN TableB B ON A.Key = B.</description></item><item><title>初始化</title><link>https://zput.github.io/middleware/docs/mysql/init/install/</link><pubDate>Fri, 24 Jan 2020 10:33:00 +0000</pubDate><guid>https://zput.github.io/middleware/docs/mysql/init/install/</guid><description>MySQL环境 # 环境安装 # # 查看Linux服务器上是否安装过MySQL rpm -qa | grep -i mysql # 查询出所有mysql依赖包 # 1、拉取镜像 docker pull mysql:5.7 # 2、创建实例并启动 docker run -p 3306:3306 --name mysql \ -v /root/mysql/log:/var/log/mysql \ -v /root/mysql/data:/var/lib/mysql \ -v /root/mysql/conf:/etc/mysql \ -e MYSQL_ROOT_PASSWORD=qwer \ -d mysql:5.7 # conf # 配置文件!!! # 4、重启mysql容器 docker restart mysql # 5、进入到mysql容器 docker exec -it mysql /bin/bash # 6、查看修改的配置文件 cat /etc/mysql/my.conf 安装位置 # Docker容器就是一个小型的Linux环境，进入到MySQL容器中。
docker exec -it mysql /bin/bash Linux环境下MySQL的安装目录。</description></item><item><title>索引</title><link>https://zput.github.io/middleware/docs/mysql/business_facing/innodb_index/</link><pubDate>Fri, 24 Jan 2020 10:33:00 +0000</pubDate><guid>https://zput.github.io/middleware/docs/mysql/business_facing/innodb_index/</guid><description>索引 # 索引简介 # 索引是什么？
A database index is a data structure that improves the speed of operations in a table MySQL官方对索引的定义为：索引（INDEX）是帮助MySQL对表高效操作的数据结构。
从而可以获得索引的本质：索引是排好序的快速查找数据结构。
索引的目的在于提高查询效率，可以类比字典的目录。如果要查mysql这个这个单词，我们肯定要先定位到m字母，然后从上往下找y字母，再找剩下的sql。如果没有索引，那么可能需要a---z，这样全字典扫描，如果我想找Java开头的单词呢？如果我想找Oracle开头的单词呢？？？
重点：索引会影响到MySQL查找(WHERE的查询条件)和排序(ORDER BY)两大功能！
除了数据本身之外，数据库还维护着一个满足特定查找算法的数据结构，这些数据结构以某种方式指向数据，这样就可以在这些数据结构的基础上实现高级查找算法，这种数据结构就是索引。
一般来说，索引本身也很大，不可能全部存储在内存中，因此索引往往以索引文件的形式存储在磁盘上。
# Linux下查看磁盘空间命令 df -h [root@Ringo ~]# df -h Filesystem Size Used Avail Use% Mounted on /dev/vda1 40G 16G 23G 41% / devtmpfs 911M 0 911M 0% /dev tmpfs 920M 0 920M 0% /dev/shm tmpfs 920M 480K 920M 1% /run tmpfs 920M 0 920M 0% /sys/fs/cgroup overlay 40G 16G 23G 41% 我们平时所说的索引，如果没有特别指明，都是指B树（多路搜索树，并不一定是二叉的）结构组织的索引。其中聚集索引，次要索引，覆盖索引，复合索引，前缀索引，唯一索引默认都是使用B+树索引，统称索引。当然，除了B+树这种数据结构的索引之外，还有哈希索引（Hash Index）等。</description></item><item><title>锁</title><link>https://zput.github.io/middleware/docs/mysql/business_facing/innodb_lock/</link><pubDate>Fri, 24 Jan 2020 10:33:00 +0000</pubDate><guid>https://zput.github.io/middleware/docs/mysql/business_facing/innodb_lock/</guid><description>表锁(偏读) # 表锁特点：
表锁偏向MyISAM存储引擎，开销小，加锁快，无死锁，锁定粒度大，发生锁冲突的概率最高，并发度最低。 环境准备 # # 1、创建表 CREATE TABLE `mylock`( `id` INT NOT NULL PRIMARY KEY AUTO_INCREMENT, `name` VARCHAR(20) )ENGINE=MYISAM DEFAULT CHARSET=utf8 COMMENT=&amp;#39;测试表锁&amp;#39;; # 2、插入数据 INSERT INTO `mylock`(`name`) VALUES(&amp;#39;ZhangSan&amp;#39;); INSERT INTO `mylock`(`name`) VALUES(&amp;#39;LiSi&amp;#39;); INSERT INTO `mylock`(`name`) VALUES(&amp;#39;WangWu&amp;#39;); INSERT INTO `mylock`(`name`) VALUES(&amp;#39;ZhaoLiu&amp;#39;); 锁表的命令 # 1、查看数据库表锁的命令。
# 查看数据库表锁的命令 SHOW OPEN TABLES; 2、给mylock表上读锁，给book表上写锁。
# 给mylock表上读锁，给book表上写锁 LOCK TABLE `mylock` READ, `book` WRITE; # 查看当前表的状态 mysql&amp;gt; SHOW OPEN TABLES; +--------------------+------------------------------------------------------+--------+-------------+ | Database | Table | In_use | Name_locked | +--------------------+------------------------------------------------------+--------+-------------+ | sql_analysis | book | 1 | 0 | | sql_analysis | mylock | 1 | 0 | +--------------------+------------------------------------------------------+--------+-------------+ 3、释放表锁。</description></item></channel></rss>